<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <p:dialog id="dlg-licencia" 
              widgetVar="licenciaWV"
              modal="true" 
              header="Solicitud de Licencia No Remunerada"
              position="center top"
              resizable="false"
              class="mr1024_30 mr500_90" 
              draggable="false"
              responsive="true">
        <h:form id="form-licencia">
            <p:messages id="msgs" closable="true" showSummary="true" showDetail="true"/>  
            <div class="ui-fluid">
                <div class="ui-g ">
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Fecha de Solicitud"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaToken.solicitado}">
                                <f:convertDateTime pattern="yyyy-MMMM-dd" type="date"/>
                            </p:inputText>>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Solicitante"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" 
                                         value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaToken.idEmpleado.identificacion}" 
                                         title="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaToken.idEmpleado.apellidos} #{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaToken.idEmpleado.nombres}" />
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Cargo"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaToken.idEmpleado.idEmpleadoCargo.nombreCargo}"/>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Motivo"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaSolicitudMotivo.motivo}" title="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.idGenericaSolicitudMotivo.descripcion}"/>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Solicitado Desde"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true"  value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.desde}">
                                <f:convertDateTime pattern="yyyy-MMMM-dd" type="date"/>
                            </p:inputText>>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Solicitado Hasta"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true"  value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.hasta}">
                                <f:convertDateTime pattern="yyyy-MMMM-dd" type="date"/>
                            </p:inputText>>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputTextarea id="nota"
                                             value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.nota}"
                                             maxlength="255"
                                             required="true"
                                             requiredMessage="Nota es requerido"
                                             counter="cou"
                                             counterTemplate="Quedan {0} carácteres" 
                                             autoResize="false"
                                             placeholder="Nota" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0" style="text-align: right; font-size: 12px">
                            <h:outputText id="cou" />
                        </div>
                    </div>
                    <div jsf:rendered="#{genericaSolicitudLicenciaJSF.iOp != 3}"> 
                        <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <h:outputText value="Aprobar a Partir de"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:calendar id="desde"
                                            value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.aprobadoDesde}"
                                            showOn="button"
                                            locale="es"
                                            mask="true"
                                            pattern="yyyy-MM-dd" />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <h:outputText value="Hasta"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:calendar id="hasta"
                                            value="#{genericaSolicitudLicenciaJSF.genericaSolicitudLicencia.aprobadoHasta}"
                                            showOn="button"
                                            locale="es"
                                            mask="true"
                                            pattern="yyyy-MM-dd" />
                            </div>
                        </div>
                    </div>
                    <p:remoteCommand id="btn-guardar"
                                     name="rc_gen_soli_aprobar"
                                     rendered="#{genericaSolicitudLicenciaJSF.iOp == 2}"
                                     action="#{genericaSolicitudLicenciaJSF.onAprobarSolicitud()}"
                                     update=":formNoRemunerada,@form"
                                     process="@form">
                    </p:remoteCommand>
                    <p:remoteCommand id="rechazar"
                                     name="rc_gen_soli_rechazar"
                                     rendered="#{genericaSolicitudLicenciaJSF.iOp == 3}"
                                     update=":formNoRemunerada,@form"
                                     process="@form"
                                     action="#{genericaSolicitudLicenciaJSF.onRechazarSolicitud()}" >
                    </p:remoteCommand>
                </div>
            </div>
        </h:form>
        <p:commandButton onclick="rc_gen_soli_aprobar();"
                         value="Aprobar"
                         rendered="#{genericaSolicitudLicenciaJSF.iOp == 2}"
                         class="cssWhite GreenButton"
                         icon="fa fa-thumbs-up">
            <p:confirm header="Confirmación" message="Seguro de aprobar la solicitud de Licencia No Remunerada?"
                       icon="fa fa-exclamation-triangle"
                       class="cssWhite"/>
        </p:commandButton>
        <p:commandButton onclick="rc_gen_soli_rechazar();"
                         icon="fa fa-thumbs-down"
                         rendered="#{genericaSolicitudLicenciaJSF.iOp == 3}"
                         class="cssWhite RedButton"
                         value="Rechazar">
            <p:confirm header="Confirmación" message="Seguro de rechazar la solicitud de Licencia No Remunerada?"
                       icon="fa fa-exclamation-triangle"
                       class="cssWhite"/>
        </p:commandButton>
    </p:dialog>
</ui:composition> 
