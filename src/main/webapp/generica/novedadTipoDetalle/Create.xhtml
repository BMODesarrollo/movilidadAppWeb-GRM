<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition>
        <p:dialog id="NovedadTipoDetalleCreateDlg" 
                  closeOnEscape="true" widgetVar="NovedadTipoDetalleCreateDialog" 
                  modal="true" resizable="false" appendTo="@(body)" 
                  position="center top"
                  responsive="true" fitViewport="true" class="mr1024_50 mr500_90">
            <c:if test="#{genericaTipoDetBean.selected == null }">
                <f:facet name="header">
                    Nuevo registro
                </f:facet>
            </c:if>
            <c:if test="#{genericaTipoDetBean.selected != null }">
                <f:facet name="header">
                    Editar Registro
                </f:facet>
            </c:if>
            <h:form id="NovedadTipoDetalleCreateForm">

                <div class="ui-fluid" jsf:id="pGrid">

                    <p:messages id="messages" showDetail="true" closable="true">
                        <p:effect type="pulsate" event="load" delay="500" />
                    </p:messages>
                    <p:growl id="msgs" showDetail="true" escape="false"/>

                    <div class="ui-g">
                        <div class="ui-g-12 ui-md-6 ui-lg-6 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Tipo de Novedad
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:inputText id="tipoNovedad" value="#{genericaTipoDetBean.nvd.idGenericaTipo.nombreTipoNovedad}" 
                                             required="true" requiredMessage="El Tipo de Novedad es obligatorio"
                                             placeholder="Tipo de Novedad" readonly="true"/>  
                                <div class="botonFloat">
                                    <p:commandButton title="Seleccione el Tipo de Novedad"
                                                     icon="fa fa-list"
                                                     update="tipoNovedad" 
                                                     class="cssWhite"
                                                     style="margin: 0px"
                                                     oncomplete="PF('NovedadTipoDetalleListDialog').show()"
                                                     >
                                    </p:commandButton>
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Nombre
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:inputText id="nombre" value="#{genericaTipoDetBean.nvd.tituloTipoGenerica}"
                                             required="true" requiredMessage="El detalle de la novedad es obligatorio"/>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Requiere Fechas
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_fechas" value="#{genericaTipoDetBean.i_fechas}" onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times" style="color:white">
                                </p:selectBooleanButton>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Notificar
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_notifica" value="#{genericaTipoDetBean.i_notificacion}" onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times" style="#{genericaTipoDetBean.i_notificacion eq true ? 'color:White;background:Green' : 'color:White;background:Red'}">
                                </p:selectBooleanButton>
                            </div>
                        </div>

                        <div class="ui-g-12 ui-md-6 ui-lg-6 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Notificación Proceso
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:inputText id="notifProceso" value="#{genericaTipoDetBean.nvd.idGenericaNotifProcesos.nombreProceso}" 
                                             required="true" requiredMessage="El campo es obligatorio"
                                             placeholder="Área Notifica" readonly="true"/>      
                                <div class="botonFloat">
                                    <p:commandButton title="Seleccione un Proceso"
                                                     icon="fa fa-list"
                                                     class="cssWhite"
                                                     style="margin: 0px"
                                                     update="notifProceso"
                                                     oncomplete="PF('NotificaListDialog').show()">
                                    </p:commandButton>
                                </div>
                            </div>
                        </div>

                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Requiere Hora
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_hora" value="#{genericaTipoDetBean.i_horas}" onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times" style="color:white">
                                </p:selectBooleanButton>
                            </div>
                        </div>

                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Prevención
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_prevencion" value="#{genericaTipoDetBean.i_prevencion}" onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times" style="color:white">
                                </p:selectBooleanButton>
                            </div>
                        </div>

                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Req. Soporte
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_soporte" value="#{genericaTipoDetBean.i_requiereSoporte}" onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times" style="color:white">
                                </p:selectBooleanButton> 
                            </div>
                        </div>

                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Afecta Prg
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_afectaPrg" value="#{genericaTipoDetBean.i_afectaProg}" onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times" style="color:white">
                                </p:selectBooleanButton>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Afecta Compensación
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:selectBooleanButton id="i_afecta" value="#{genericaTipoDetBean.i_afectaPm}" 
                                                       onLabel="Sí" offLabel="No" onIcon="fa fa-check" offIcon="fa fa-times"  
                                                       title="Afecta Programa Máster"
                                                       style="#{genericaTipoDetBean.i_afectaPm eq true ? 'color:white; background:green;' : 'color:white; background:red;'}" >
                                    <p:ajax event="change" update="i_puntos,i_afecta" />
                                </p:selectBooleanButton>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Puntos Compensación
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:inputNumber id="i_puntos" style="text-align: center;" 
                                               value="#{genericaTipoDetBean.i_puntosPm}"                                      
                                               disabled="#{!genericaTipoDetBean.i_afectaPm}"
                                               title="Puntos Programa Máster"
                                               minValue="0" 
                                               maxValue="100" decimalPlaces="0" emptyValue="zero" />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                Descripción
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                                <p:inputTextarea id="observaciones" 
                                                 value="#{genericaTipoDetBean.nvd.descripcionTipoGenerica}"
                                                 required="true"
                                                 autoResize="false"
                                                 requiredMessage="Debe ingresar una descripción"/>
                            </div>
                        </div>

                    </div>
                </div>	

                <p:remoteCommand name="rc" 
                                 class="cssWhite"
                                 action="#{genericaTipoDetBean.guardar()}"  
                                 value="Guardar" 
                                 update="messages,:NovedadTipoDetalleListForm:datalist"/>
            </h:form>
            <f:facet name="footer">
                <p:commandButton id="btnGuardarAdd" 
                                 icon="fa fa-save" value="Guardar" 
                                 class="cssWhite" onclick="rc()"/>
            </f:facet>
        </p:dialog>
        <ui:include src="../novedadTipoDetalle/ListNovedadesTipo.xhtml"/>
        <ui:include src="../novedadTipoDetalle/ListNotifica.xhtml"/>
    </ui:composition>
</html>
