<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Gestión Jornada</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <h:outputStylesheet name="css/font-icon-layout.css" library="sentinel-layout" />
        <h:outputStylesheet name="css/sentinel-layout.css" library="sentinel-layout" />
        <h:outputStylesheet name="css/core-layout.css" library="sentinel-layout" />
        <link rel="shortcut icon" href="resources/sentinel-layout/images/logo_III.png" />
    </h:head>
    <h:body class="fontRegular login-back white-back">
        <h:form id="form" >
            <p:growl id="msg" showDetail="true" showSummary="true" life="6000" />
            <div class="ui-fluid" >
                <div class="ui-g Padding0" style="text-transform: uppercase">
                    <div class="ui-g-12 ui-ml-6 ui-lg-6 Padding3 Container80 MaxWid500 white-back Fnone MarAuto">
                        <div class="EmptyBox5" />
                        <a class="cssMenuItem" 
                           href="#{request.contextPath.concat('/panelPrincipal/panelPrincipal.jsf')}" >
                            <p:staticMessage severity="#{genJorTokenJSFMB.severity}" summary="#{genJorTokenJSFMB.msgs} Clic para ir la panel principal." rendered="#{genJorTokenJSFMB.genericaJornadaToken==null}"/>
                        </a>
                        <p:panel id="pnl-info" header="Información de la Jornada" widgetVar="pnlWv" rendered="#{genJorTokenJSFMB.genericaJornadaToken!=null}">
                            <div class="ui-g Padding0">
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Identificación:" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.idEmpleado.identificacion}" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Nombre:" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.idEmpleado.nombres.concat(' ').concat(genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.idEmpleado.apellidos) }" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Fecha Jornada" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.fecha}" >
                                        <f:convertDateTime pattern="yyyy-MMMM-dd" />
                                    </h:outputText>
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Hora Inicio Programada" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.timeOrigin}" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Hora Fin Programada" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.timeDestiny}" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Hora Inicio Real" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.realTimeOrigin}" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Hora Fin Real" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.realTimeDestiny}" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="Motivo" />
                                </div>
                                <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                                    <h:outputText value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.idGenericaJornadaMotivo.descripcion}" />
                                </div>
                                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                                    <p:inputTextarea id="observacion"
                                                     value="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.observaciones}"
                                                     rows="5"
                                                     readonly="true"
                                                     autoResize="false" />
                                </div>
                            </div>
                        </p:panel>
                        <div class="EmptyBox5" />
                        <div class="ui-g-12 ui-lm-6 ui-lg-6 Padding3" jsf:rendered="#{genJorTokenJSFMB.genericaJornadaToken!=null}">
                            <p:commandButton id="btn-autorizar"
                                             action="#{genJorTokenJSFMB.autorizar(1)}"
                                             icon="fa fa-thumbs-up" 
                                             process="@this"
                                             rendered="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.autorizado== -1 or genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.autorizado == 0}"
                                             disabled="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.liquidado==1}"
                                             update="form" 
                                             class="cssWhite GreenButton"  
                                             value="Aprobar" >
                                <p:confirm header="Confirmación" message="Está segudo que desea autorizar esta jornada?" 
                                           icon="fa fa-exclamation-triangle" />
                            </p:commandButton>
                        </div>
                        <div class="ui-g-12 ui-lm-6 ui-lg-6 Padding3" jsf:rendered="#{genJorTokenJSFMB.genericaJornadaToken!=null}">
                            <p:commandButton id="btn-autorizar-no"
                                             action="#{genJorTokenJSFMB.autorizar(0)}"
                                             icon="fa fa-thumbs-down" 
                                             process="@this"
                                             rendered="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.autorizado== -1 or genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.autorizado == 1 }"
                                             disabled="#{genJorTokenJSFMB.genericaJornadaToken.idGenericaJornada.liquidado==1}"
                                             update="form" 
                                             class="cssWhite RedButton"  
                                             value="No Aprobar" >
                                <p:confirm header="Confirmación" message="Está segudo que desea NO autorizar esta jornada?" 
                                           icon="fa fa-exclamation-triangle" /> 
                            </p:commandButton>
                        </div>
                    </div>
                </div>
            </div>
        </h:form>
        <p:ajaxStatus  onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />

        <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
            <p:graphicImage name="images/preloadbmo.gif" height="50" library="sentinel-layout"/>
        </p:dialog>
    </h:body>
    <!--  -->
</html>