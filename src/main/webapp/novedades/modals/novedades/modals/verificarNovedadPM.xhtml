<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf">
    <p:dialog widgetVar="verificarNovedadPM" id="modalverificarNovedadPM" 
              modal="true" responsive="true"
              closable="false"
              closeOnEscape="true"
              resizable="false" appendTo="@(body)"
              class="mr1024_40 mr500_90" position="center top">
        <f:facet name="header">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            AVISO
        </f:facet>
        <h:form id="frmVerificarNovedadPM">
            <div class="ui-fluid">
                <div class="ui-g">

                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <h:outputText 
                            value="Se ha(n) encontrado novedad(es) que coinciden en datos para esa(s) fecha(s). desea registrar otra?"
                            class="cssBlack"
                            />
                    </div>

                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="Fecha:"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="#{novedadBean.novedadVerificacion.fecha}">
                                <f:convertDateTime type="date" pattern="dd-MMMM-yyyy" />
                            </h:outputText>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" >
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="Tipo de novedad:"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText  value="#{novedadBean.novedadVerificacion.idNovedadTipo.nombreTipoNovedad}"/>
                        </div>
                    </div>

                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" >
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="Detalle de tipo novedad:"/> 
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="#{novedadBean.novedadVerificacion.idNovedadTipoDetalle.tituloTipoNovedad}" rendered="#{novedadBean.novedadVerificacion.idNovedadDano eq null and novedadBean.novedadVerificacion.idMulta eq null}"/>
                            <h:outputText value="#{novedadBean.novedadVerificacion.idNovedadDano.idVehiculoDanoSeveridad.nombre}" rendered="#{novedadBean.novedadVerificacion.idNovedadDano.idNovedadDano gt 0}"/>
                            <h:outputText value="#{novedadBean.novedadVerificacion.idNovedadTipoDetalle.tituloTipoNovedad}" rendered="#{novedadBean.novedadVerificacion.idNovedadTipoDetalle.idNovedadTipoDetalle gt 0 and novedadBean.novedadVerificacion.idMulta.idMulta gt 0}"/>
                            <h:outputText value="#{novedadBean.novedadVerificacion.idMulta.idMultaTipo.tipo}"
                                          rendered="#{novedadBean.novedadVerificacion.idMulta.idMulta gt 0 and novedadBean.novedadVerificacion.idNovedadTipoDetalle eq null}"/>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" >
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="Desde:" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="N/A" 
                                          rendered="#{novedadBean.novedadVerificacion.desde eq null}"/>

                            <h:outputText value="#{novedadBean.novedadVerificacion.desde}"
                                          rendered="#{novedadBean.novedadVerificacion.desde != null}">
                                <f:convertDateTime type="date" pattern="dd-MMMM-yyyy" />
                            </h:outputText>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" >
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="Hasta:" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="N/A" 
                                          rendered="#{novedadBean.novedadVerificacion.hasta eq null}"/>

                            <h:outputText value="#{novedadBean.novedadVerificacion.hasta}"
                                          rendered="#{novedadBean.novedadVerificacion.hasta != null}">
                                <f:convertDateTime type="date" pattern="dd-MMMM-yyyy" />
                            </h:outputText>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" >
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="VehÃ­culo:"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="N/A" 
                                          rendered="#{novedadBean.novedadVerificacion.idVehiculo eq null}"/>

                            <h:outputText value="#{novedadBean.novedadVerificacion.idVehiculo.codigo}"
                                          rendered="#{novedadBean.novedadVerificacion.idVehiculo != null}"
                                          />
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" >
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel value="Operador:" for="@next"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="#{novedadBean.novedadVerificacion.idEmpleado.nombres} #{novedadBean.novedadVerificacion.idEmpleado.apellidos}"/>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5 Wid100">
                        <div class="ui-g-12 ui-md-12 ui-lg-5 Padding0" >
                            <p:outputLabel for="@next" value="Observaciones:" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-7 Padding0" >
                            <h:outputText value="#{novedadBean.novedadVerificacion.observaciones}"/>
                        </div>
                    </div>
                </div>
            </div>

            <p:remoteCommand name="verif_si"
                             action="#{novedadBean.guardarNovedadPM()}"
                             update=":frmPrincipal:dtTipo,:frmNovedadesPm"
                             />
            <p:remoteCommand name="verif_no"
                             action="#{novedadBean.confirmarNo()}"
                             />

        </h:form>
        <f:facet name="footer">
            <div align="right">
                <p:commandButton value="Si" 
                                 class="cssWhite GreenButton"
                                 onclick="verif_si();"
                                 oncomplete="PF('verificarNovedadPM').hide()">
                </p:commandButton>
                <p:spacer width="10"/>
                <p:commandButton value="No" 
                                 class="cssWhite RedButton"
                                 onclick="verif_no();"
                                 oncomplete="PF('verificarNovedadPM').hide()">
                </p:commandButton>
            </div>
        </f:facet>
    </p:dialog>
</ui:composition>