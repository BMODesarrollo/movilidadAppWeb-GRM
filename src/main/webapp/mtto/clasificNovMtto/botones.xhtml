<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf">
    <div class="btn-flex">
        <p:commandButton icon="fa fa-ambulance" 
                         class="RedButton cssWhite"
                         action="#{clasificNovBean.clasificar(item,1)}"
                         update="form_clasific_nov_dlg,dlg_clasific_nov,msgs"
                         title="Clasificar Novedad">
            <p:resetInput target="form_clasific_nov_dlg"/>
        </p:commandButton>
        <p:commandButton icon="fa fa-tasks" 
                         class="cssWhite"
                         action="#{dispActivBean.addActividad(item)}"
                         update="dlg_actividad,form_actividad_dlg,msgs"
                         title="Agregar Actividad">
        </p:commandButton>
        <p:commandButton icon="fa fa-binoculars" 
                         class="CyanButton cssWhite"
                         action="#{novSeguiBean.seguimientos(item)}"
                         oncomplete="PF('novedadSeguimientoList_wv').show()"
                         update="frmNovedadSeguimientoList:dtNovedadSeguimiento"
                         title="Gestion seguimientos">
        </p:commandButton>
        <p:commandButton icon="fa fa-send" 
                         class="PurpleButton cssWhite"
                         action="#{maximoBean.sendToMaximo(item)}"
                         oncomplete="cargarTablaPrincipal()"
                         disabled="#{item.idDispClasificacionNovedad.enviarMaximo==1}"
                         update="msgs"
                         title="Enviar novedad a Maximo">
            <p:confirm header="Confirmación" message="Esta seguro que desea enviar esta novedad a maximo. Vehiculo: #{item.idVehiculo.codigo}"
                       icon="fa fa-exclamation-triangle" />
        </p:commandButton>
        <p:commandButton icon="fa fa-bus" 
                         class="cssWhite GreenButton"
                         action="#{dispActivBean.prepareHabilitacion(item)}"
                         update="msgs,dlg_habilitar"
                         title="Habilitar este vehículo: #{item.idVehiculo.placa} - #{item.idVehiculo.codigo}">
        </p:commandButton>
        <p:commandButton icon="fa fa-exclamation-circle" 
                         class="cssWhite BrownButton"
                         action="#{dispActivBean.prepareDiferir(item)}"
                         update="msgs,dlg_diferir"
                         title="Diferir novedad para este vehículo: #{item.idVehiculo.placa} - #{item.idVehiculo.codigo}">
        </p:commandButton>
        <p:commandButton icon="fa fa-photo" 
                         class="cssWhite OrangeButton"
                         action="#{docsNovMttoBean.prepareNovedadDocs(item,true)}"
                         update="msgs,novedad_docs_dlg,novedad_docs_dlg_form:novedad_docs_dt"
                         title="Imágenes para la novedad del vehículo: #{item.idVehiculo.placa} - #{item.idVehiculo.codigo}">
        </p:commandButton>
        <p:commandButton icon="fa fa-folder-open" 
                         class="cssWhite GrayButton"
                         process="@this"
                         action="#{maximoBean.obtenerOrdenesTrabajo(item)}"
                         update="msgs,form_orde_trab"
                         oncomplete="PF('wv_orde_trab').show()"
                         title="Ver solicitudes de servicio para la novedad del vehículo: #{item.idVehiculo.placa} - #{item.idVehiculo.codigo}">
        </p:commandButton>
    </div>
</ui:composition>
