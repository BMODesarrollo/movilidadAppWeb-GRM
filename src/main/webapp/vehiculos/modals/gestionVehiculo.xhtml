<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <p:dialog id="nuevoVehDlg" 
              widgetVar="nuevoVehiculoDialog" 
              modal="true" 
              position="center top"
              resizable="false" 
              appendTo="@(body)" 
              header="Nuevo Vehículo"
              closeOnEscape="true" 
              width="auto" 
              height="auto"
              class="mr1024_70 mr500_90"
              responsive="true">
        <p:ajax event="close" listener="#{vehiculoController.reset()}" update="form-list-vehiculo:tblveh"/>
        <h:form id="formNuevoVeh">
            <p:messages id="messages" showDetail="true" closable="true"/>
            <div class="ui-fluid">
                <div class="ui-g">
                    <p:fieldset legend="Información del vehículo">
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Código del Vehículo"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="codigo"
                                             value="#{vehiculoController.vehiculo.codigo}"
                                             maxlength="12"
                                             rendered="true"
                                             requiredMessage="Código del Vehículo es requerido"
                                             />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Placa"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="placa"
                                             value="#{vehiculoController.vehiculo.placa}"
                                             maxlength="6"/>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Módelo"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="modelo"
                                             value="#{vehiculoController.vehiculo.modelo}"
                                             maxlength="50">
                                </p:inputText>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Número del Motor"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="n_motor"
                                             value="#{vehiculoController.vehiculo.numeroMotor}"
                                             maxlength="49"
                                             rendered="true"
                                             requiredMessage="Número de Motor es requerido"
                                             />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Número de Chasis"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="n_chasis"
                                             value="#{vehiculoController.vehiculo.numeroChasis}"
                                             maxlength="49"
                                             rendered="true"
                                             requiredMessage="Número de Chasis es requerido"
                                             />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Número de Carroceria"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="n_carroceria"
                                             value="#{vehiculoController.vehiculo.numeroCarroceria}"
                                             required="true"
                                             requiredMessage="Número de Carrocería es requerido"
                                             maxlength="49"/>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Número de Serie"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="n_serie"
                                             value="#{vehiculoController.vehiculo.numeroSerie}"
                                             required="true"
                                             requiredMessage="Número de Serie es requerido"
                                             maxlength="49"/>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Capacidad"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="capacidad"
                                             value="#{vehiculoController.vehiculo.capacidad}"
                                             maxlength="3">
                                    <p:keyFilter regEx="/[1234567890]/i"/> 
                                </p:inputText>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Cilindraje"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="cilindraje"
                                             value="#{vehiculoController.vehiculo.cilindraje}"
                                             maxlength="4">
                                    <p:keyFilter regEx="/[1234567890]/i"/> 
                                </p:inputText>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Odómetro Inicial"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="odometro-ini"
                                             value="#{vehiculoController.vehiculo.odometroInicial}"
                                             maxlength="11"
                                             rendered="true"
                                             requiredMessage="Odómetro Inicial es requerido"
                                             >
                                    <p:keyFilter regEx="/[1234567890]/i"/> 
                                </p:inputText>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Fecha de Vinculación"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:calendar id="fecha-vinculacion"
                                            value="#{vehiculoController.vehiculo.fechaVinculacion}"
                                            maxdate="today"
                                            pattern="dd-MM-yyyy" 
                                            mask="true"
                                            navigator="true"
                                            locale="es"
                                            />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Color"/>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:inputText id="color"
                                             value="#{vehiculoController.vehiculo.color}"
                                             maxlength="50"
                                             />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Unidad Funcional" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <ui:include src="../../zComponent/selectUnidadFuncional.xhtml"/>
                            </div>
                        </div>
                    </p:fieldset>
                    <p:separator/>
                    <p:fieldset legend="Composición">
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Tipo de Vehículo" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="tipo-vehi" value="#{vehiculoController.i_vehiculoTipo}" 
                                                 filter="true" 
                                                 style="width: 99.9999%"
                                                 required="true"
                                                 requiredMessage="Tipo de Vehículo es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipos}" 
                                                   var="vht" 
                                                   itemLabel="#{vht.nombreTipoVehiculo}"
                                                   itemDescription="#{vht.descripcionTipoVehiculo}"
                                                   itemValue="#{vht.idVehiculoTipo}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Tipo de Chasis" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="tipo-chasis" value="#{vehiculoController.i_vehiculoTipoChasis}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Tipo de Chasis es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue=""/>
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipoChasises}" 
                                                   var="vhc" 
                                                   itemLabel="#{vhc.nombreTipoChasis}"
                                                   itemDescription="#{vhc.descripcionTipoChasis}"
                                                   itemValue="#{vhc.idVehiculoTipoChasis}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Tipo de Carrocería" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="tipo-carroceria" value="#{vehiculoController.i_vehiculoTipoCarroceria}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Tipo de Carrocería es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipoCarroceria}" 
                                                   var="vhcceria" 
                                                   itemLabel="#{vhcceria.nombreTipoCarroceria}"
                                                   itemDescription="#{vhcceria.descripcionTipoCarroceria}"
                                                   itemValue="#{vhcceria.idVehiculoTipoCarroceria}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Tipo de Dirección" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="tipo-direccion" value="#{vehiculoController.i_vehiculoTipoDireccion}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Tipo de Direccción es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipopoDireccion}" 
                                                   var="vhdireccion" 
                                                   itemLabel="#{vhdireccion.nombreTipoDireccion}"
                                                   itemDescription="#{vhdireccion.descripcionTipoDireccion}"
                                                   itemValue="#{vhdireccion.idVehiculoTipoDireccion}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Tipo de Transmisión" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="tipo-trasnmision" value="#{vehiculoController.i_vehiculoTipoTrasmision}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Tipo de Transmisión es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipoTransmision}" 
                                                   var="vhtransmision" 
                                                   itemLabel="#{vhtransmision.nombreTipoTransmision}"
                                                   itemDescription="#{vhtransmision.descripcionTipoTransmision}"
                                                   itemValue="#{vhtransmision.idVehiculoTipoTransmision}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Tipo de Combustible" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="tipo-combustible" value="#{vehiculoController.i_vehiculoTipoCombustible}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Tipo de Combustible es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipoCombustible}" 
                                                   var="vhcombustible" 
                                                   itemLabel="#{vhcombustible.nombreTipoCombustible}"
                                                   itemDescription="#{vhcombustible.descripcionTipoCombustible}"
                                                   itemValue="#{vhcombustible.idVehiculoTipoCombustible}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Propietario" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="propietario" value="#{vehiculoController.i_vehiculoPropietario}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Propietario es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoPropietario}" 
                                                   var="vhpropietario" 
                                                   itemLabel="#{vhpropietario.nombres}"
                                                   itemValue="#{vhpropietario.idVehiculoPropietario}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-3 ui-lg-3  Padding5">
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:outputLabel value="Estado del Vehículo" />
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12  Padding0">
                                <p:selectOneMenu id="vehiculo-estado" value="#{vehiculoController.i_vehiculoTipoEstado}" 
                                                 filter="true" 
                                                 required="true"
                                                 style="width: 99.9999%"
                                                 requiredMessage="Estado del Vehículo es requerido"
                                                 filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                                    <f:selectItems value="#{vehiculoController.listvehiculoTipoEstado}" 
                                                   var="vhestado" 
                                                   itemLabel="#{vhestado.nombreTipoEstado}"
                                                   itemValue="#{vhestado.idVehiculoTipoEstado}"
                                                   itemDescription="#{vhestado.descripcionTipoEstado}"
                                                   />
                                </p:selectOneMenu>
                            </div>
                        </div>
                    </p:fieldset>
                </div>
            </div>
            <p:remoteCommand name="rc_save_v"
                             action="#{vehiculoController.guardarVehiculo()}"
                             rendered="#{empty vehiculoController.vehiculo.idVehiculo}"
                             update=":form-list-vehiculo:tblveh,formNuevoVeh,msgs,uf"/>
            <p:remoteCommand name="rc_update_v"
                             action="#{vehiculoController.editarVehiculo()}"
                             rendered="#{!empty vehiculoController.vehiculo.idVehiculo}"
                             update=":form-list-vehiculo:tblveh,formNuevoVeh,growl,msgs,uf"/>
        </h:form>
        <f:facet name="footer">
            <p:commandButton id="guardar"
                             value="Guardar"
                             rendered="#{empty vehiculoController.vehiculo.idVehiculo}"
                             onclick="rc_save_v();"
                             class="cssWhite"
                             icon="fa fa-save"/>
            <p:commandButton id="actualizar"
                             value="Actualizar"
                             rendered="#{!empty vehiculoController.vehiculo.idVehiculo}"
                             onclick="rc_update_v();"
                             class="cssWhite"
                             icon="fa fa-save"/>
        </f:facet>
    </p:dialog>
</ui:composition>