<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <div jsf:id="info-caso" class="ui-g">
        <p:fieldset legend="Información Básica" class="Wid100" >
            <div class="ui-g-12 ui-md-12 ui-lg-6 Padding0">
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:outputLabel value="* Tipo de evento:" />
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:selectOneMenu id="t-eve" value="#{accidenteJSF.i_idAccNovTipDet}" 
                                     filter="true"
                                     filterMatchMode="contains"
                                     required="true" 
                                     requiredMessage="Tipo de evento es requrido" 
                                     style="width: 99.999%">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                        <f:selectItems value="#{accidenteJSF.listNovedadTipoDetalles}" 
                                       var="listntd" 
                                       itemLabel="#{listntd.tituloTipoNovedad}" 
                                       itemDescription="#{listntd.descripcionTipoNovedad}"
                                       itemValue="#{listntd.idNovedadTipoDetalle}" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:outputLabel value="* Clasificacíon:" />
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:selectOneMenu id="clasif" value="#{accidenteJSF.i_idAccClas}" 
                                     filter="true"
                                     filterMatchMode="contains"
                                     required="true" 
                                     requiredMessage="Clasificación es requrido" 
                                     style="width: 99.999%">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                        <f:selectItems value="#{accClaseJSF.listAccClase}" 
                                       var="listClase" 
                                       itemLabel="#{listClase.clase}" 
                                       itemDescription="#{listClase.descripcion}"
                                       itemValue="#{listClase.idAccClase}" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:outputLabel value="Abogado:" />
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:selectOneMenu id="d-abogado"
                                     value="#{accidenteJSF.idAccAbogado}" 
                                     style="width: 99.999%">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                        <f:selectItems value="#{abogadoBean.lstAbogados}" 
                                       var="abog" 
                                       itemLabel="#{abog.nombreCompleto}" 
                                       itemDescription="#{abog.cedula}"
                                       itemValue="#{abog.idAccAbogado}" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <p:outputLabel value="Cierre de caso en vía" />
                    <br/>
                    <p:selectOneMenu id="tp-atn-via" 
                                     value="#{accidenteJSF.idAccAtencionVia}" 
                                     style="width: 99.999%" 
                                     filter="true"
                                     filterMatchMode="contains" >
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="#{null}" />
                        <f:selectItems value="#{accAtencionViaJSF.listAccAtencionVia}" 
                                       var="tpAtn" 
                                       itemLabel="#{tpAtn.nombre}" 
                                       itemDescription="#{tpAtn.descripcion}"
                                       itemValue="#{tpAtn.idAccAtencionVia}" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <h:outputText value="Servicio" class="cssBlack" />
                    <br/>
                    <h:outputText value="#{accidenteJSF.accidente.idPrgTc.idTaskType.tarea}" />
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-5 Padding3" jsf:rendered="false">
                    <p:outputLabel value="* Detalle de la clasificación:" />
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-7 Padding3" jsf:rendered="false">
                    <p:selectOneMenu id="d-clasif" value="#{accidenteJSF.i_idAccDetCla}" required="true" requiredMessage="Detalle de la clasificación es requrido" style="width: 99.999%">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                        <f:selectItems value="#{accDetClaseJSF.listAccDetClase}" 
                                       var="listDet" 
                                       itemLabel="#{listDet.detClase}" 
                                       itemDescription="#{listDet.descripcion}"
                                       itemValue="#{listDet.idAccDetClase}" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-5 Padding3" jsf:rendered="false">
                    <p:outputLabel value="* Tipo de servicio:" />
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-7 Padding3" jsf:rendered="false">
                    <p:selectOneMenu id="t-ser" value="#{accidenteJSF.i_idAccTipServ}" required="true" requiredMessage="Tipo de servicio es requrido" style="width: 99.999%">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                        <f:selectItems value="#{accTipoServJSF.listAccTipoServ}" 
                                       var="listServ" 
                                       itemLabel="#{listServ.tipoServ}" 
                                       itemDescription="#{listServ.descripcion}"
                                       itemValue="#{listServ.idAccTipoServ}" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:outputLabel value="* Día de semana: " />
                    <h:outputText value="#{accidenteJSF.accidente.fechaAcc}" style="text-transform: uppercase" class="cssBlack">
                        <f:convertDateTime pattern="EEEE" />
                    </h:outputText>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <p:outputLabel value="Conciliado:" /> <br/>
                    <p:selectOneMenu id="conciliado" value="#{accidenteJSF.accidente.conciliado}" rendered="true" requiredMessage="Seleccionar estado de conciliación" style="width: 99.999%">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                        <f:selectItem itemLabel="Conciliado" itemValue="1" />
                        <f:selectItem itemLabel="No Conciliado" itemValue="0" />
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <p:outputLabel value="Valor Conciliado:" /> <br/>
                    <p:inputText id="num-conci" 
                                 value="#{accidenteJSF.accidente.valorConciliado}" 
                                 placeholder="$" >
                        <p:keyFilter regEx="/[0-9]/i"/> 
                    </p:inputText>
                </div>
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-6 Padding0">
                <div class="ui-g-12 ui-md-4 ui-lg-3 Padding3">
                    <p:outputLabel value="* Descripcíon:" />
                </div>
                <div class="ui-g-6 ui-md-4 ui-lg-3 Padding3">
                    <p:selectBooleanCheckbox id="ipat" 
                                             value="#{accidenteJSF.b_ipat}" 
                                             itemLabel="Ipat" class="cssBlack" 
                                             title="#{accidenteJSF.accidente.nroIpat}">
                        <p:ajax listener="#{accidenteJSF.agregarNumIpat()}" 
                                update=":accidente-form:msg,@this,:ipat-dlg" />
                    </p:selectBooleanCheckbox>
                </div>
                <div class="ui-g-6 ui-md-4 ui-lg-3 Padding3">
                    <p:selectBooleanCheckbox id="c-trans" 
                                             value="#{accidenteJSF.b_casoTransmilenio}" 
                                             title="Caso Transmilenio"
                                             class="cssBlack" itemLabel="Caso TM"/>
                </div>
                <div class="ui-g-6 ui-md-4 ui-lg-3 Padding3">
                    <p:selectBooleanCheckbox id="c-juridica" 
                                             value="#{accidenteJSF.b_juridica}" 
                                             title="Juridica"
                                             class="cssBlack" itemLabel="Juridica"/>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <p:inputTextarea id="t-des" 
                                     rows="12" 
                                     value="#{accidenteJSF.accidente.descripcion}"
                                     maxlength="60000"
                                     autoResize="false"
                                     required="true" 
                                     requiredMessage="Descripción es requerido"/>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                    <p:outputLabel value="Desplazamiento:" />
                    <p:selectOneMenu id="idAccDesplaza" value="#{accidenteJSF.idAccDesplaza}" 
                                     filter="true" 
                                     style="width: 99.9999%"
                                     filterMatchMode="contains">
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="#{null}" />
                        <f:selectItems value="#{accidenteJSF.lstAccDesplazamientos}" 
                                       var="desplaza" 
                                       itemLabel="#{desplaza.nombre}"
                                       itemValue="#{desplaza.idAccDesplazaA}"/>
                    </p:selectOneMenu>
                </div>
            </div>
        </p:fieldset>
        <div class="ui-g-12 ui-md-12 ui-lg-12">
            <div class="ui-g-12 ui-md-12 ui-lg-12">
                <p:staticMessage severity="info" summary="Franja horaria: 00:00:00 a 24:00:00" 
                                 style="text-align: center;" />
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                <div class="ui-g-12 ui-md-12 ui-lg-3 Padding0">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:outputLabel value="* Fecha/Hora real"/>    
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:calendar id="fechaHoraReal" 
                                    value="#{accidenteJSF.accidente.fechaAcc}" 
                                    showOn="button"
                                    pattern="yyyy-MM-dd HH:mm"
                                    mask="true" 
                                    navigator="true"
                                    timeControlType="select"
                                    locale="es"
                                    required="true" 
                                    requiredMessage="Fecha/Hora real es requerido"/>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-3 Padding0">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:outputLabel value="Fecha/Hora asistida"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:calendar id="fechaHoraAsis" 
                                    value="#{accidenteJSF.accidente.fechaAsistencia}" 
                                    showOn="button"
                                    pattern="yyyy-MM-dd HH:mm" 
                                    timeControlType="select"
                                    mask="true" 
                                    navigator="true"
                                    locale="es"/>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-3 Padding0">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:outputLabel value="Fecha/Hora cierre asistencia"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:calendar id="fechaHoraCierreRecocomo" 
                                    value="#{accidenteJSF.accidente.fechaCierreRecomoto}" 
                                    showOn="button"
                                    navigator="true"
                                    timeControlType="select"
                                    locale="es"
                                    pattern="yyyy-MM-dd HH:mm" 
                                    mask="true" />
                    </div>
                </div> 
                <div class="ui-g-12 ui-md-12 ui-lg-3 Padding0">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:outputLabel value="Fecha/Hora cierre caso"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                        <p:calendar id="fechaHoraCierre" 
                                    value="#{accidenteJSF.accidente.fechaCierre}" 
                                    showOn="button"
                                    navigator="true"
                                    timeControlType="select"
                                    locale="es"
                                    pattern="yyyy-MM-dd HH:mm" 
                                    mask="true" />
                    </div>
                </div>
            </div>
        </div>
        <div class="ui-g-12 ui-md-12 ui-lg-12">
            <div class="ui-g-12 ui-md-12 ui-lg-8 Padding0">
                <p:fieldset legend="Condiciones del operador">
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding0">
                        <h:outputText value="Día anterior al evento" class="cssBlack" />
                        <br/>
                        <h:outputText value="Sercon" /> <br/>
                        <h:outputText value="#{accidenteJSF.accidente.idPrgSerconPass.sercon}" /><br/>
                        <h:outputText value="Inicio turno" /> <br/>
                        <h:outputText value="#{accidenteJSF.accidente.idPrgSerconPass.timeOrigin}" /><br/>
                        <h:outputText value="Fin turno" /> <br/>
                        <h:outputText value="#{accidenteJSF.accidente.idPrgSerconPass.timeDestiny}" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding0">
                        <div style="float: right;" jsf:rendered="#{!accidenteJSF.isRolAbogado}">
                            <p:commandButton
                                icon="fa fa-user-times"
                                value="Inoperatividad"
                                process="@this"
                                actionListener="#{accidenteJSF.inoperatividadAccidentalidad()}"
                                oncomplete="PF('wv_inoperativos').show();"
                                class="cssWhite"
                                update="id_dialog_inoperativos,form_inoperativos"/>  
                        </div>
                        <h:outputText value="Día del evento" class="cssBlack" /> <br/>
                        <h:outputText value="Sercon" /> <br/>
                        <h:outputText value="#{accidenteJSF.accidente.idPrgSerconActual.sercon}" /><br/>
                        <h:outputText value="Inicio turno" /> <br/>
                        <h:outputText value="#{accidenteJSF.accidente.idPrgSerconActual.timeOrigin}" /><br/>
                        <h:outputText value="Fin turno" /> <br/>
                        <h:outputText value="#{accidenteJSF.accidente.idPrgSerconActual.timeDestiny}" />
                    </div>
                </p:fieldset>
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-4 Padding0">
                <p:fieldset legend="Primer responsable">
                    <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                        <p:inputText id="p-respon" value="#{accidenteJSF.i_codOpeMaster}"
                                     placeholder="Código Tm Primer Res."
                                     title="Digitar Código Primer Responsable" >
                            <p:keyFilter regEx="/[0-9]/i"/>  
                        </p:inputText>
                    </div>
                    <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                        <p:commandButton id="buscar-ope-master"
                                         title="Buscar"
                                         class="cssWhite OrangeButton"
                                         actionListener="#{accidenteJSF.cargarOpeMaster()}"
                                         process="tabView:form-info-caso:p-respon,@this"
                                         update="tabView:form-info-caso:param-master,accidente-form:msg"
                                         icon="fa fa-search"/>
                        <p:commandButton id="list-ope-master"
                                         title="Lista"
                                         global="false"
                                         process="@this"
                                         actionListener="#{accidenteJSF.cargarListaEmpleado()}"
                                         update=":form-emp-list"
                                         oncomplete="PF('listEmpDlg').show()"
                                         class="cssWhite OrangeButton"
                                         icon="fa fa-list-ul"/>
                    </div>
                    <div jsf:id="param-master">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                            <p:outputLabel value="#{accidenteJSF.accidente.idMaster.apellidos} #{accidenteJSF.accidente.idMaster.nombres}" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                            <p:outputLabel value="#{accidenteJSF.accidente.idMaster.telefonoMovil}" title="Teléfono Celular"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                            <p:outputLabel value="#{accidenteJSF.accidente.idMaster.telefonoFijo}" title="Teléfono Fijo" />
                        </div>
                    </div>
                    <p:commandButton id="secuencia"
                                     rendered="false"
                                     value="Secuencia de eventos"
                                     class="cssWhite OrangeButton"
                                     icon="fa fa-arrow-circle-right"/>
                </p:fieldset>
                <div class="ui-g-6 ui-md-6 ui-lg-6" jsf:rendered="#{!accidenteJSF.isRolAbogado}">
                    <p:commandButton id="guardar-info"
                                     value="Guardar"
                                     process="@this,@form"
                                     actionListener="#{accidenteJSF.guardar()}"
                                     rendered="#{accidenteJSF.b_flag}"
                                     update=":accidente-form:msg,@form,:list-accidente"
                                     class="cssWhite GreenButton"
                                     icon="fa fa-check"/>
                    <p:commandButton id="actualizar-info"
                                     value="Actualizar"
                                     process="@this,@form"
                                     actionListener="#{accidenteJSF.editar()}"
                                     rendered="#{!accidenteJSF.b_flag}"
                                     update=":accidente-form:msg,@form,:list-accidente"
                                     class="cssWhite GreenButton"
                                     icon="fa fa-check"/>
                </div>
                <div class="ui-g-6 ui-md-6 ui-lg-6" jsf:rendered="#{!accidenteJSF.isRolAbogado}">
                    <p:commandButton id="cancelar-info"
                                     value="Cancelar"
                                     class="cssWhite"
                                     process="@this"
                                     actionListener="#{accidenteJSF.reset()}"
                                     update="@form,:list-accidente:table-accidente,:accidente-form"
                                     icon="fa fa-times"/>
                </div>
            </div>
        </div>
    </div>
</ui:composition> 