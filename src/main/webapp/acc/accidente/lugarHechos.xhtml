<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <div jsf:id="lugar-hechos" class="ui-g">
        <div class="ui-g-12 ui-md-12 ui-lg-12">
            <p:fieldset legend="Descripción de la vía">
                <div class="ui-g-12 ui-md-12 ui-lg-6">
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Clase de vía:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="c-via" value="#{accidenteLugarJSF.i_idAccViaClase}" required="true" requiredMessage="Clase de vía es requrido" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaClaseJSF.listAccViaClase}" 
                                           var="vc" 
                                           itemLabel="#{vc.viaClase}" 
                                           itemDescription="#{vc.descripcion}"
                                           itemValue="#{vc.idAccViaClase}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Diseño vía:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="d-via" value="#{accidenteLugarJSF.i_idAccViaDiseno}" required="true" requiredMessage="Diseño vía es requrido" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaDisenoJSF.listAccViaDiseno}" 
                                           var="vd" 
                                           itemLabel="#{vd.viaDiseno}" 
                                           itemDescription="#{vd.descripcion}"
                                           itemValue="#{vd.idAccViaDiseno}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Troncal:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="troncal" value="#{accidenteLugarJSF.i_idAccViaTroncal}" required="true" requiredMessage="Troncal es requrido" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaTroncalJSF.listAccViaTroncal}" 
                                           var="vt" 
                                           itemLabel="#{vt.viaTroncal}" 
                                           itemDescription="#{vt.descripcion}"
                                           itemValue="#{vt.idAccViaTroncal}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="* Zona Troncal:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="z-troncal" value="#{accidenteLugarJSF.i_idAccViaZonat}" required="true" requiredMessage="Zona Troncal es requrido" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaZonatJSF.listAccViaZonat}" 
                                           var="vzt" 
                                           itemLabel="#{vzt.viaZonat}" 
                                           itemDescription="#{vzt.descripcion}"
                                           itemValue="#{vzt.idAccViaZonat}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Estación cerca:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:id="estacion-cerca" jsf:rendered="false">
                        <p:inputText value="#{accidenteLugarJSF.c_parada}" readonly="true" title="#{accidenteLugarJSF.c_parada}"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3" jsf:rendered="false">
                        <p:commandButton id="esta-cerca"
                                         value="Sel Estación"
                                         process="@this"
                                         update="tabView:form-estacion-cerca"
                                         oncomplete="PF('dlgStopPoint').show();"
                                         icon="fa fa-search"
                                         class="OrangeButton cssWhite" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Mixta:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="mixta" value="#{accidenteLugarJSF.i_idAccViaMixta}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaMixtaJSF.listAccViaMixta}" 
                                           var="vm" 
                                           itemLabel="#{vm.viaMixta}" 
                                           itemDescription="#{vm.descripcion}"
                                           itemValue="#{vm.idAccViaMixta}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="Sentido:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:selectOneMenu id="sentido" value="#{accidenteLugarJSF.i_idAccSentido}"
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accSentidoJSF.listAccSentido}" 
                                           var="as" 
                                           itemLabel="#{as.sentido}" 
                                           itemDescription="#{as.descripcion}"
                                           itemValue="#{as.idAccSentido}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Geométrica:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="geometrica" value="#{accidenteLugarJSF.i_idAccViaGeometrica}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaGeometricaJSF.listAccViaGeometrica}" 
                                           var="vg" 
                                           itemLabel="#{vg.viaGeometrica}" 
                                           itemDescription="#{vg.descripcion}"
                                           itemValue="#{vg.idAccViaGeometrica}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Utilización:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="utilizacion" value="#{accidenteLugarJSF.i_idAccViaUtilizacion}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaUtilizacionJSF.listAccViaUtilizacion}" 
                                           var="vu" 
                                           itemLabel="#{vu.viaUtilizacion}" 
                                           itemDescription="#{vu.descripcion}"
                                           itemValue="#{vu.idAccViaUtilizacion}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Calzadas:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="calzadas" value="#{accidenteLugarJSF.i_idAccViaCalzadas}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaCalzadasJSF.listAccViaCalzadas}" 
                                           var="vcal" 
                                           itemLabel="#{vcal.viaCalzadas}" 
                                           itemDescription="#{vcal.descripcion}"
                                           itemValue="#{vcal.idAccViaCalzadas}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="Carriles:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:selectOneMenu id="carriles" value="#{accidenteLugarJSF.i_idAccViaCarriles}"
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaCarrilesJSF.listAccViaCarriles}" 
                                           var="vcarri" 
                                           itemLabel="#{vcarri.viaCarriles}" 
                                           itemDescription="#{vcarri.descripcion}"
                                           itemValue="#{vcarri.idAccViaCarriles}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="Estado:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:selectOneMenu id="estado" value="#{accidenteLugarJSF.i_idAccViaEstado}"
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaEstadoJSF.listAccViaEstado}" 
                                           var="vest" 
                                           itemLabel="#{vest.viaEstado}" 
                                           itemDescription="#{vest.descripcion}"
                                           itemValue="#{vest.idAccViaEstado}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="Iluminación Art:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:selectOneMenu id="iluminacion-art" value="#{accidenteLugarJSF.i_idAccViaIluminacion}"
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaIluminacionJSF.listAccViaIluminacion}" 
                                           var="vi" 
                                           itemLabel="#{vi.viaIluminacion}" 
                                           itemDescription="#{vi.descripcion}"
                                           itemValue="#{vi.idAccViaIluminacion}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="Control semáforo:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:selectOneMenu id="control-s" 
                                         value="#{accidenteLugarJSF.i_idAccViaSemaforo}"
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaSemaforoJSF.listAccViaSemaforo}" 
                                           var="vsema" 
                                           itemLabel="#{vsema.viaSemaforo}" 
                                           itemDescription="#{vsema.descripcion}"
                                           itemValue="#{vsema.idAccViaSemaforo}" />
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6">
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Material:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="material" value="#{accidenteLugarJSF.i_idAccViaMaterial}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaMaterialJSF.listAccViaMaterial}" 
                                           var="vmat" 
                                           itemLabel="#{vmat.viaMaterial}" 
                                           itemDescription="#{vmat.descripcion}"
                                           itemValue="#{vmat.idAccViaMaterial}" />
                        </p:selectOneMenu>
                    </div>

                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Condiciones:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="condiciones" value="#{accidenteLugarJSF.i_idAccViaCondiciones}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaCondicionJSF.listAccViaCondicion}" 
                                           var="vcond" 
                                           itemLabel="#{vcond.viaCondicion}" 
                                           itemDescription="#{vcond.descripcion}"
                                           itemValue="#{vcond.idAccViaCondicion}" />
                        </p:selectOneMenu>
                    </div>


                    <div class="ui-g-12 ui-md-12 ui-lg-4 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Visial disminuida:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-8 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="v-disminuida" value="#{accidenteLugarJSF.i_idAccViaVisual}" 
                                         dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaVisualJSF.listAccViaVisual}" 
                                           var="vv" 
                                           itemLabel="#{vv.viaVisual}" 
                                           itemDescription="#{vv.descripcion}"
                                           itemValue="#{vv.idAccViaVisual}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12">
                        <p:outputLabel value="Demarcación y señalización:"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12">
                        <p:pickList id="pickList"
                                    responsive="true"
                                    value="#{accidenteLugarJSF.dualList}" 
                                    var="demar" 
                                    converter="viaConverter"
                                    itemLabel="#{demar.viaDemarcacion}"
                                    itemValue="#{demar}" >
                        </p:pickList>
                    </div>
                </div>
            </p:fieldset>
        </div>
        <div class="ui-g-12 ui-md-12 ui-lg-12">
            <p:fieldset legend="Descripción entorno">
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding0">
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="* Clima:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:selectOneMenu id="clima" value="#{accidenteLugarJSF.i_idAccViaClima}"
                                         required="true"
                                         requiredMessage="Clima es requrido" 
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaClimaJSF.listAccViaClima}" 
                                           var="vclima" 
                                           itemLabel="#{vclima.viaClima}" 
                                           itemDescription="#{vclima.descripcion}"
                                           itemValue="#{vclima.idAccViaClima}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3">
                        <p:outputLabel value="Dirección:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3">
                        <p:inputText id="inp-direccion"
                                     value="#{accidenteLugarJSF.accidenteLugar.direccion}"
                                     maxlength="150" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Coordenadas:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding0" jsf:rendered="false">
                        <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                            <p:inputText id="latitud-inp" title="Latitud" placeholder="Latitud"
                                         value="#{accidenteLugarJSF.accidenteLugar.latitude}" readonly="true" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                            <p:inputText id="longitud-inp" title="Longitud" placeholder="Longitud"
                                         value="#{accidenteLugarJSF.accidenteLugar.longitude}" readonly="true" />
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3" jsf:rendered="false">
                        <p:commandButton id="direccion" 
                                         process="@this"
                                         value="Seleccionar Coordenadas" 
                                         oncomplete="PF('dlgMap').show();"
                                         icon="fa fa-location-arrow"
                                         class="cssWhite OrangeButton"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Sector:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="sector" value="#{accidenteLugarJSF.i_idAccViaSector}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaSectorJSF.listAccViaSector}" 
                                           var="vsec" 
                                           itemLabel="#{vsec.viaSector}" 
                                           itemDescription="#{vsec.descripcion}"
                                           itemValue="#{vsec.idAccViaSector}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-3 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Zona:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-9 Padding3" jsf:rendered="false">
                        <p:selectOneMenu id="zona" value="#{accidenteLugarJSF.i_idAccViaZona}" dynamic="true" style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{accViaZonaJSF.listAccViaZona}" 
                                           var="vzona" 
                                           itemLabel="#{vzona.viaZona}" 
                                           itemDescription="#{vzona.descripcion}"
                                           itemValue="#{vzona.idAccViaZona}" />
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding0">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3" jsf:rendered="false">
                        <p:outputLabel value="Descripción adicional:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3" jsf:rendered="false">
                        <p:inputTextarea id="descripcion-lug-hec"
                                         rows="7"
                                         autoResize="false"
                                         value="#{accidenteLugarJSF.accidenteLugar.descripcion}"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0" jsf:rendered="#{!accidenteJSF.isRolAbogado}">
                        <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                            <p:commandButton id="guardar-lugar-hec"
                                             icon="fa fa-check"
                                             value="Guardar"
                                             class="cssWhite GreenButton"
                                             actionListener="#{accidenteLugarJSF.guardar()}"
                                             rendered="#{accidenteLugarJSF.b_flag}"
                                             process="@this,@form"
                                             update=":accidente-form:msg,@form" />
                            <p:commandButton id="actualizar-lugar-hec"
                                             icon="fa fa-check"
                                             value="Actualizar"
                                             class="cssWhite GreenButton"
                                             actionListener="#{accidenteLugarJSF.editar()}"
                                             rendered="#{!accidenteLugarJSF.b_flag}"
                                             process="@this,@form"
                                             update=":accidente-form:msg,@form" />
                        </div>
                        <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3" jsf:rendered="#{!accidenteJSF.isRolAbogado}">
                            <p:commandButton id="cancelar-lugar-hec"
                                             icon="fa fa-times"
                                             value="Cancelar"
                                             process="@this"
                                             actionListener="#{accidenteLugarJSF.reset()}"
                                             class="cssWhite" 
                                             update="@form" />
                        </div>
                    </div>
                </div>
            </p:fieldset>
        </div>
        <div class="ui-g-12 ui-md-12 ui-lg-12" jsf:rendered="false">
            <p:dialog id="gmapDialog" 
                      widgetVar="dlgMap" 
                      modal="true" 
                      width="500"
                      height="500"
                      closable="true" 
                      position="center top"
                      appendTo="@(body)"
                      responsive="true">
                <p:growl id="msgMap" showDetail="true" showSummary="true" life="6000" />
                <p:gmap id="gmap" center="#{accidenteLugarJSF.c_latitud}, #{accidenteLugarJSF.c_logitud}" 
                        zoom="18" 
                        type="HYBRID" 
                        styleClass="mapClass"
                        model="#{accidenteLugarJSF.simpleModel}" >
                    <p:ajax event="pointSelect" 
                            listener="#{accidenteLugarJSF.onPointSelect}" 
                            update="tabView:form-lugar-hechos:msgMap,tabView:form-lugar-hechos:latitud-inp,tabView:form-lugar-hechos:longitud-inp,gmap" />
                </p:gmap>
            </p:dialog>
        </div>
    </div>
</ui:composition> 