<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf">


    <h:form id="formConsultaEmpl">
        <p:remoteCommand name="emplFindByCodigoT"
                         process="@this,txtCodigoInternoC" 
                         actionListener="#{emplListJSFMB.emplFindByCodigoT}" 
                         update="formConsultaEmpl,msgs"/>
        <div class="ui-fluid" >
            <div class="ui-g">
                <div class="ui-g-6 ui-md-4 ui-lg-4  Padding2">
                    <p:inputText id="txtCodigoInternoC" placeholder="Codígo TM"
                                 value="#{emplListJSFMB.codigoTransMi}"  
                                 onkeypress="if (event.keyCode == 13) {
                                             emplFindByCodigoT();
                                             return false;
                                         }"/>
                    <div class="botonFloat">
                        <p:commandButton title="Consultar Empleado"
                                         icon="fa fa-search"
                                         class="cssWhite"
                                         style="margin: 0px"
                                         actionListener="#{emplListJSFMB.emplFindByCodigoT}"
                                         update="formConsultaEmpl,msgs">
                        </p:commandButton>
                    </div>
                </div>
                <div class="ui-g-6 ui-md-4 ui-lg-4  Padding2">
                    <p:commandButton title="Listar Todos Empleado"
                                     icon="fa fa-list"
                                     value="Listar"
                                     class="cssWhite"
                                     update="dialog_empl_form:dialog_empl_dt" 
                                     action="#{emplListJSFMB.openModalEmpleadoList('formConsultaEmpl')}">
                    </p:commandButton>
                </div>

                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding2" jsf:rendered="#{emplListJSFMB.empl.idEmpleado!=null}"  >
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                        <h:outputText style="color: white;
                                      background-color: red;
                                      font-weight: bold;
                                      padding: 2px;
                                      border-radius: 5px;
                                      font-size: 18px;" value="Cumpleaños" rendered="#{emplListJSFMB.cumple()}" />
                    </div>
                    <p:graphicImage cache="false"
                                    style="border-radius: 3px"
                                    value="#{uploadFotoJSFManagedBean.imagenDinamica}"
                                    class="ui-g-4 ui-md-4 ui-lg-4 Padding2">
                        <f:param name="path_foto" value="#{emplListJSFMB.empl.pathFoto}" />
                    </p:graphicImage>
                    <div class="ui-g-8 ui-md-8 ui-lg-8  Padding2 ">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0" >
                                <h:outputText value="Código TM: " />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0 cssMenuItem" style="cursor: pointer"
                                 onclick="copiarAlPortapapeles('formConsultaEmpl:code_op_pp')" >
                                <h:outputText style="color: black;font-weight: bold;font-size: 100%"
                                              id="code_op_pp"
                                              title="Clic para copiar"
                                              value="#{emplListJSFMB.empl.codigoTm}" />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 " >
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Identificación:" />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" value="#{emplListJSFMB.empl.identificacion} " />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Nombre:" />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" value="#{emplListJSFMB.empl.nombres} #{emplListJSFMB.empl.apellidos} " />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="# Celular:" />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" id="call" value="#{emplListJSFMB.empl.telefonoMovil} " />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Máster: " />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" value="#{emplListJSFMB.master()} " />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Tipología: " />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <div class="ui-g-11 ui-md-11 ui-lg-11 Padding0"  >
                                    <h:outputText style="color: black" 
                                                  value="#{emplListJSFMB.empl.idEmpleadoCargo.idEmpleadoTipoCargo== 28 ? bundle.tipo_vehiculo_i 
                                                           : emplListJSFMB.empl.idEmpleadoCargo.idEmpleadoTipoCargo == 29? bundle.tipo_vehiculo_ii 
                                                           : emplListJSFMB.empl.idEmpleadoCargo.nombreCargo}" />
                                </div>
                                <div class="ui-g-1 ui-md-1 ui-lg-1 Padding0"  >
                                    <h:outputText class="Fs25 #{(emplListJSFMB.empl.certificado==1 
                                                                or emplListJSFMB.empl.idEmpleadoCargo.idEmpleadoTipoCargo==29) 
                                                                ? 'yellowCar fa fa-bus' :
                                                                emplListJSFMB.empl.idEmpleadoCargo.idEmpleadoTipoCargo==28 
                                                                ?'redCar fa fa-bus':''}"/>
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Restricción Medicina Laboral: " />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" value="#{emplListJSFMB.obtenerRestriccionMedicinaLaboral()}" />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Restricción Seguridad: " />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" value="#{emplListJSFMB.obtenerRestriccionSeguridad()}" />
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0 ">
                            <div class="ui-g-5 ui-md-4 ui-lg-4 Padding0"  >
                                <h:outputText value="Restricción Bienestar: " />
                            </div>
                            <div class="ui-g-7 ui-md-8 ui-lg-8 Padding0"  >
                                <h:outputText style="color: black" value="#{emplListJSFMB.obtenerRestriccionBienestar()}" />
                            </div>
                        </div>
                    </div>
                    <p:tooltip id="toolTipContent" for="call" trackMouse="true" >
                        <p:barcode value="tel:#{emplListJSFMB.empl.telefonoMovil}" type="qr"/>
                    </p:tooltip>
                </div>
            </div>
        </div>
    </h:form>
    <ui:include src="../../zComponent/dialogListEmpleado.xhtml"/>
</ui:composition>



