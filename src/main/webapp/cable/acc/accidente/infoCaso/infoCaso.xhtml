<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:form id="fInfoCaso">
        <div class="ui-g">
            <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Fecha " for="fechaHr" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:calendar id="fechaHr" 
                                    value="#{cableAccidentalidadJSF.cableAccidentalidad.fechaHora}" 
                                    pattern="yyyy-MM-dd HH:mm"
                                    class="Wid100"
                                    mask="true"
                                    showOn="button"
                                    locale="es"
                                    required="true"
                                    requiredMessage="Fecha es requerido"
                                    navigator="true">
                            <p:ajax update="labFech" global="false" />
                        </p:calendar>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Día de la semana" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputText id="labFech" 
                                     style="text-transform: uppercase"
                                     value="#{cableAccidentalidadJSF.cableAccidentalidad.fechaHora}"
                                     readonly="true">
                            <f:convertDateTime pattern="EEEE" />
                        </p:inputText>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Acc Tipo " for="tTipo" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:selectOneMenu id="tTipo" 
                                         value="#{cableAccidentalidadJSF.idCableAccTipo}" 
                                         required="true" 
                                         requiredMessage="Acc Tipo es requrido" 
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{cableAccTipoJSF.listCableAccTipo}" 
                                           var="catp" 
                                           itemLabel="#{catp.tipo}" 
                                           itemDescription="#{catp.descripcion}"
                                           itemValue="#{catp.idCableAccTipo}" />
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Clasificacion Personal PAux." for="clasif" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:selectOneMenu id="clasif" 
                                         value="#{cableAccidentalidadJSF.idCableAccClasificacion}" 
                                         required="true" 
                                         requiredMessage="Clasificación es requerido" 
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{cableAccClasificacionJSF.listCableAccClasificacion}" 
                                           var="clasf" 
                                           itemLabel="#{clasf.tipo}" 
                                           itemDescription="#{clasf.descripcion}"
                                           itemValue="#{clasf.idCableAccClasificacion}" />
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Tipo Evento" for="tpEvent"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:selectOneMenu id="tpEvent" 
                                         value="#{cableAccidentalidadJSF.idCableAccTipoEvento}" 
                                         required="true" 
                                         requiredMessage="Tipo Evento es requerido" 
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="" />
                            <f:selectItems value="#{cableAccTipoEventoJSF.listCableAccTipoEvento}" 
                                           var="tpEvento" 
                                           itemLabel="#{tpEvento.nombre}" 
                                           itemDescription="#{tpEvento.descripcion}"
                                           itemValue="#{tpEvento.idCableAccTipoEvento}" />
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Afecta poliza" for="afecPoliza"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:selectOneMenu id="afecPoliza" 
                                         value="#{cableAccidentalidadJSF.cableAccidentalidad.afectaPoliza}" 
                                         required="true" 
                                         requiredMessage="Afecta Poliza es requerido" 
                                         style="width: 99.999%">
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="#{null}" noSelectionOption="true" />
                            <f:selectItem itemLabel="Si" itemValue="#{1}" />
                            <f:selectItem itemLabel="No" itemValue="#{0}" />
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Seleccionar estación" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputText id="iptEstacion" 
                                     value="#{cableAccidentalidadJSF.cableAccidentalidad.idCableEstacion.codigo} - #{cableAccidentalidadJSF.cableAccidentalidad.idCableEstacion.nombre}" 
                                     placeholder="Cabina"
                                     readonly="true"
                                     onkeypress="if (event.keyCode === 13) {
                                                 return false;
                                             }">
                        </p:inputText>
                        <div class="botonFloat" >
                            <p:commandButton id="btnOnEstacion" 
                                             icon="fa fa-list"
                                             title="Cargar estaciones"
                                             class="cssWhite"
                                             style="margin: 0px"
                                             update=":formEstacion"
                                             action="#{cableAccidentalidadJSF.cargarListaEstacion()}"
                                             process="@this" />
                            <p:commandButton id="btnOnNullEst" 
                                             icon="fa fa-times"
                                             title="Deshacer selección estación"
                                             class="cssWhite RedButton"
                                             style="margin: 0 0 0 2px"
                                             update="iptEstacion,dOtroLug"
                                             action="#{cableAccidentalidadJSF.cableAccidentalidad.setIdCableEstacion(null)}"
                                             process="@this" />
                        </div>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Seleccionar cabina" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputText id="iptCabina" 
                                     value="#{cableAccidentalidadJSF.cableAccidentalidad.idCableCabina.codigo} - #{cableAccidentalidadJSF.cableAccidentalidad.idCableCabina.nombre}" 
                                     placeholder="Cabina"
                                     readonly="true"
                                     onkeypress="if (event.keyCode === 13) {
                                                 return false;
                                             }">
                        </p:inputText>
                        <div class="botonFloat" >
                            <p:commandButton id="btnOnCabina" 
                                             icon="fa fa-list"
                                             title="Cargar cabinas"
                                             class="cssWhite"
                                             style="margin: 0px"
                                             update=":formCabinas"
                                             action="#{cableAccidentalidadJSF.cargarListaCabina()}"
                                             process="@this" />
                            <p:commandButton id="btnOnNullCab" 
                                             icon="fa fa-times"
                                             title="Deshacer selección cabina"
                                             class="cssWhite RedButton"
                                             style="margin: 0 0 0 2px"
                                             update="dOtroLug,iptCabina"
                                             action="#{cableAccidentalidadJSF.cableAccidentalidad.setIdCableCabina(null)}"
                                             process="@this" />
                        </div>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3" jsf:id="dOtroLug">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Otro lugar"
                                       for="otroLugar"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputText id="otroLugar" 
                                     required="#{cableAccidentalidadJSF.cableAccidentalidad.idCableCabina == null and cableAccidentalidadJSF.cableAccidentalidad.idCableEstacion == null}"
                                     requiredMessage="Otro lugar es requerido"
                                     value="#{cableAccidentalidadJSF.cableAccidentalidad.otroLugar}"
                                     maxlength="60" />
                    </div>
                </div>
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-6 Padding3">
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="Responsable del Informe" for="iptEmpleado" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputText id="iptEmpleado" 
                                     value="#{cableAccidentalidadJSF.cableAccidentalidad.idOperador.nombres} #{cableAccidentalidadJSF.cableAccidentalidad.idOperador.apellidos}" 
                                     placeholder="Operador"
                                     readonly="true"
                                     required="true"
                                     requiredMessage="Empleado es requerido"
                                     onkeypress="if (event.keyCode === 13) {
                                                 return false;
                                             }">
                        </p:inputText>
                        <div class="botonFloat" >
                            <p:commandButton id="btnOnEmpleado" 
                                             icon="fa fa-list"
                                             title="Cargar Empleados"
                                             class="cssWhite"
                                             style="margin: 0px"
                                             update=":formEmpleado"
                                             action="#{cableAccidentalidadJSF.cargarListaEmpleado()}"
                                             process="@this" />
                        </div>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="* Causa del accidente" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputTextarea id="causa" 
                                         rows="4" 
                                         value="#{cableAccidentalidadJSF.cableAccidentalidad.causa}"
                                         maxlength="65535"
                                         autoResize="false"
                                         required="true" 
                                         requiredMessage="Causa del accidente es requerido"/>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12 Padding3">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:outputLabel value="* Descripcíon del operador:" />
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                        <p:inputTextarea id="t-des" 
                                         rows="7" 
                                         value="#{cableAccidentalidadJSF.cableAccidentalidad.descripcionOperador}"
                                         maxlength="65535"
                                         autoResize="false"
                                         required="true" 
                                         requiredMessage="Descripción es requerido"/>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-6 ui-lg-6 Padding0"><span style="visibility: hidden">ss</span></div>
                <div class="ui-g-12 ui-md-6 ui-lg-6 Padding0">
                    <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                        <p:commandButton id="guardar-info"
                                         value="Guardar"
                                         process="@form"
                                         actionListener="#{cableAccidentalidadJSF.guardarCableAccidente()}"
                                         rendered="#{empty cableAccidentalidadJSF.cableAccidentalidad.idCableAccidentalidad}"
                                         update=":accidente-form:msg,@form,:list-accidente,:tInformacion"
                                         class="cssWhite GreenButton"
                                         icon="fa fa-check"/>
                        <p:commandButton id="actualizar-info"
                                         value="Actualizar"
                                         process="@this,@form"
                                         actionListener="#{cableAccidentalidadJSF.actualizarCableAccidente()}"
                                         rendered="#{not empty cableAccidentalidadJSF.cableAccidentalidad.idCableAccidentalidad}"
                                         update=":accidente-form:msg,@form,:list-accidente,:tInformacion"
                                         class="cssWhite GreenButton"
                                         icon="fa fa-check"/>
                    </div>
                    <div class="ui-g-6 ui-md-6 ui-lg-6 Padding3">
                        <p:commandButton id="cancelar-info"
                                         value="Cancelar"
                                         class="cssWhite"
                                         process="@this"
                                         actionListener="#{cableAccidentalidadJSF.limpiar()}"
                                         update="@form,:list-accidente:table-accidente,:accidente-form"
                                         icon="fa fa-times"/>
                    </div>
                </div>
            </div>
        </div>
    </h:form>
</ui:composition> 