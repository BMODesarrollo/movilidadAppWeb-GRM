<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <p:dialog id="dlg-licencia" 
              widgetVar="licenciaWV"
              modal="true" 
              header="Solicitud de Licencia No Remunerada"
              position="center top"
              resizable="false"
              class="mr1024_30 mr500_90"
              draggable="false"
              responsive="true">
        <h:form id="form-licencia">
            <p:messages id="msgs" closable="true" showSummary="true" showDetail="true"/>  
            <div class="ui-fluid">
                <div class="ui-g ">
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Fecha de Solicitud"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgToken.solicitado}">
                                <f:convertDateTime pattern="yyyy-MMMM-dd" type="date"/>
                            </p:inputText>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Solicitante"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" 
                                         value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgToken.idEmpleado.codigoTm}" 
                                         title="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgToken.idEmpleado.apellidos} #{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgToken.idEmpleado.nombres}" />
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Cargo"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgToken.idEmpleado.idEmpleadoCargo.nombreCargo}"/>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Motivo"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true" value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgSolicitudMotivo.motivo}" title="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.idPrgSolicitudMotivo.descripcion}"/>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Solicitado Desde"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true"  value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.desde}">
                                <f:convertDateTime pattern="yyyy-MMMM-dd" type="date"/>
                            </p:inputText>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Solicitado Hasta"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputText readonly="true"  value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.hasta}">
                                <f:convertDateTime pattern="yyyy-MMMM-dd" type="date"/>
                            </p:inputText>
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:inputTextarea id="nota"
                                             value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.nota}"
                                             maxlength="255"
                                             counter="cou"
                                             required="true"
                                             requiredMessage="Nota es requerido"
                                             counterTemplate="Quedan {0} carácteres" 
                                             autoResize="false"
                                             placeholder="Nota" />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding5" style="text-align: right; font-size: 12px">
                            <h:outputText id="cou" />
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5" jsf:rendered="#{solicitudLicenciNoRemuneradaJSF.iOp != 3}">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Aprobar a Partir de"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:calendar id="desde"
                                        value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.aprobadoDesde}"
                                        showOn="button"
                                        locale="es"
                                        mask="true"
                                        pattern="yyyy-MM-dd" />
                        </div>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-6 Padding5">
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <h:outputText value="Hasta"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-12 Padding0">
                            <p:calendar id="hasta"
                                        value="#{solicitudLicenciNoRemuneradaJSF.prgSolicitudLicencia.aprobadoHasta}"
                                        showOn="button"
                                        locale="es"
                                        mask="true"
                                        pattern="yyyy-MM-dd" />
                        </div>
                    </div>
                    <p:remoteCommand id="btn-guardar"
                                     rendered="#{solicitudLicenciNoRemuneradaJSF.iOp == 2}"
                                     name="rc_nRemu"
                                     action="#{solicitudLicenciNoRemuneradaJSF.onAprobarSolicitud()}"
                                     update=":formNoRemunerada,@form"
                                     process="@form">
                    </p:remoteCommand>
                    <p:remoteCommand id="rechazar"
                                     rendered="#{solicitudLicenciNoRemuneradaJSF.iOp == 3}"
                                     name="rc_nRemu_rechazar"
                                     update=":formNoRemunerada,@form"
                                     process="@form"
                                     action="#{solicitudLicenciNoRemuneradaJSF.onRechazarSolicitud()}" >

                    </p:remoteCommand>
                </div>
            </div>

        </h:form>
        <f:facet name="footer">
            <p:commandButton onclick="rc_nRemu();"
                             rendered="#{solicitudLicenciNoRemuneradaJSF.iOp == 2}"
                             class="cssWhite GreenButton"
                             value="Guardar"
                             icon="fa fa-thumbs-up">
                <p:confirm header="Confirmación" message="Seguro de aprobar la solicitud de Licencia No Remunerada?"
                           icon="fa fa-exclamation-triangle"
                           class="cssWhite"/>
            </p:commandButton>
            <p:commandButton onclick="rc_nRemu_rechazar();"
                             rendered="#{solicitudLicenciNoRemuneradaJSF.iOp == 3}"
                             class="cssWhite RedButton"
                             value="Rechazar"
                             icon="fa fa-thumbs-down">
                <p:confirm header="Confirmación" message="Seguro de rechazar la solicitud de Licencia No Remunerada?"
                           icon="fa fa-exclamation-triangle"
                           class="cssWhite"/>
            </p:commandButton>
        </f:facet>
    </p:dialog>
</ui:composition> 
